<!DOCTYPE html>
<html lang="en"><meta charset="utf-8"><meta name="generator" content="Hugo 0.66.0" /><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<meta name="color-scheme" content="light dark">
<meta name="supported-color-schemes" content="light dark"><title>Centos8 å®‰è£… MySQL8 è®°å½•&nbsp;&ndash;&nbsp;Physalis</title><link rel="stylesheet" href="/css/core.min.31d6612d2e37f301ac014f5b9726ff1aa63c2d7e5063d440016b9254b3942ce38cab248cb4113652f134fa4742850567.css" integrity="sha384-MdZhLS438wGsAU9blyb/GqY8LX5QY9RAAWuSVLOULOOMqySMtBE2UvE0&#43;kdChQVn"><body>
    <div class="base-body"><section id="header" class="site header">
    <div class="header wrap"><span class="header left-side"><a class="site home" href="/"><span class="site name">Physalis</span></a></span>
        <span class="header right-side"><div class="nav wrap"><nav class="nav"><a class="nav item" href="/categories/">Categories</a><a class="nav item" href="/tags/">Tags</a><a class="nav item" href="/about">About</a></nav></div></span></div><div class="site slogan"><span class="title">The faintest ink is better than the best memory. </span></div></section><div id="content"><div class="article-container"><section class="article header">
    <h1 class="article title">Centos8 å®‰è£… MySQL8 è®°å½•</h1><p class="article date">Saturday, March 7, 2020</p></section><article class="article markdown-body"><p>Centos 8 æ˜¯ 2019-9 æ–°å‘å¸ƒçš„ï¼ŒMySQL 8 æ˜¯ 2018-4 å‘å¸ƒçš„ï¼Œè¿™é‡Œéƒ½æ˜¯ä»å®˜ç½‘ä¸‹çš„æœ€æ–°ç‰ˆã€‚</p>
<p>Centos å®‰è£…åœ¨ VMware 15 WorkStation free ç‰ˆçš„è™šæ‹Ÿæœºä¸Šã€‚ä¸‹é¢æ˜¯å®‰è£…è¿‡ç¨‹çš„è¸©å‘è®°å½•ï¼Œå…¨éƒ¨ä½¿ç”¨ root ç”¨æˆ·æ“ä½œã€‚</p>
<h2 id="ä¸‹è½½-mysql">ä¸‹è½½ MySQL</h2>
<p>è¿™é‡Œä¸‹è½½çš„æ˜¯ rpm åŒ…ï¼Œæ²¡æœ‰ç”¨ yum å®‰è£…ï¼Œå› ä¸ºçœ‹èµ„æ–™è¯´ï¼š</p>
<blockquote>
<p>ä»CentOS 7å¼€å§‹ï¼ŒMariaDBæˆä¸ºYumæºä¸­é»˜è®¤çš„æ•°æ®åº“å®‰è£…åŒ…ã€‚ä¹Ÿå°±æ˜¯è¯´åœ¨CentOS 7åŠä»¥ä¸Šçš„ç³»ç»Ÿä¸­ä½¿ç”¨yumå®‰è£…MySQLé»˜è®¤å®‰è£…çš„ä¼šæ˜¯MariaDBï¼ˆMySQLçš„ä¸€ä¸ªåˆ†æ”¯ï¼‰ã€‚å¦‚æœæƒ³å®‰è£…å®˜æ–¹MySQLç‰ˆæœ¬ï¼Œéœ€è¦ä½¿ç”¨MySQLæä¾›çš„Yumæºã€‚</p>
</blockquote>
<p>è€Œæˆ‘æŠ˜è…¾äº†ä¸€ç•ªåï¼Œæ²¡èƒ½æˆåŠŸæ·»åŠ å¥½æºï¼ˆå¯èƒ½ï¼Ÿå› ä¸ºæ·»åŠ å®Œæºä¹‹åå®‰è£…æ—¶ yum æé†’æˆ‘æ‰¾ä¸åˆ°åŒ¹é…é¡¹ï¼‰ğŸ™„ã€‚</p>
<p>è¿™é‡Œæ˜¯ä¸‹è½½<a href="https://dev.mysql.com/downloads/mysql/"target="_blank">å®˜ç½‘åœ°å€</a>ï¼Œæ³¨æ„é€‰æ‹©æ“ä½œç³»ç»Ÿï¼ˆ Select Operating System ï¼‰æ—¶é€‰æ‹©çš„æ˜¯ <u>Red Hat Enterprise Linux</u> ï¼Œç„¶åç›´æ¥ä¸‹è½½ bundle åŒ…å°±å¥½ï¼Œé‡Œé¢é™¤äº† mysql-serverï¼Œmysql-client ä»¥å¤–è¿˜æœ‰å¾ˆå¤šå…¶ä»–åŒ…ï¼Œæˆ‘ä»¬åªéœ€è¦å…¶ä¸­å››ä¸ªã€‚ï¼ˆå¦‚æœä¸æƒ³è¿™ä¹ˆåšï¼Œåœ¨å®˜ç½‘ä¸‹è½½é¡µé¢ Select OS Version é€‰é¡¹é‡Œé€‰æ‹©å…·ä½“ OS ç‰ˆæœ¬åæœ‰å„ä¸ªå•ç‹¬åŒ…çš„ä¸‹è½½ã€‚ ï¼‰</p>
<p>è¿™é‡Œç›´æ¥ä½¿ç”¨ <code>wget</code>å‘½ä»¤ä¸‹è½½</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">&gt; wget https://dev.mysql.com/get/Downloads/mysql-8.0.19-1.el8.x86_64.rpm-bundle.tar
</code></pre></div><p>ä¸‹è½½å®Œæˆåç›´æ¥ç”¨ <code>tar</code> å‘½ä»¤è§£å‹: <a href="https://man.linuxde.net/tar"target="_blank">å…³äºtarå‘½ä»¤çš„è¯´æ˜</a></p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1">#è§£å‹ ä¸‹è½½åŒ…</span>
&gt; tar -ixvf mysql-8.0.19-1.el8.x86_64.rpm-bundle.tar 
<span class="c1"># å¾—åˆ°å¦‚ä¸‹</span>
mysql-community-devel-8.0.19-1.el8.x86_64.rpm
mysql-community-debugsource-8.0.19-1.el8.x86_64.rpm
mysql-community-server-debug-debuginfo-8.0.19-1.el8.x86_64.rpm
mysql-community-server-debuginfo-8.0.19-1.el8.x86_64.rpm
mysql-community-server-debug-8.0.19-1.el8.x86_64.rpm
mysql-community-libs-8.0.19-1.el8.x86_64.rpm   <span class="c1">#åªéœ€å®‰è£…è¿™å››ä¸ªå³å¯ï¼ˆ2/4ï¼‰</span>
mysql-community-client-8.0.19-1.el8.x86_64.rpm <span class="c1">#åªéœ€å®‰è£…è¿™å››ä¸ªå³å¯ï¼ˆ3/4ï¼‰</span>
mysql-community-client-debuginfo-8.0.19-1.el8.x86_64.rpm
mysql-community-server-8.0.19-1.el8.x86_64.rpm  <span class="c1">#åªéœ€å®‰è£…è¿™å››ä¸ªå³å¯ï¼ˆ4/4ï¼‰</span>
mysql-community-test-8.0.19-1.el8.x86_64.rpm
mysql-community-debuginfo-8.0.19-1.el8.x86_64.rpm
mysql-community-test-debuginfo-8.0.19-1.el8.x86_64.rpm
mysql-community-libs-debuginfo-8.0.19-1.el8.x86_64.rpm
mysql-community-common-8.0.19-1.el8.x86_64.rpm  <span class="c1">#åªéœ€å®‰è£…è¿™å››ä¸ªå³å¯ï¼ˆ1/4ï¼‰</span>
</code></pre></div><h2 id="å®‰è£…">å®‰è£…</h2>
<p>åœ¨å®‰è£…ä¹‹å‰è¦å…ˆç¡®ä¿ç³»ç»Ÿå·²ç»å®‰è£…äº† <code>gcc</code>ï¼Œå¦‚æœæ˜¯æ–°è£…çš„ç³»ç»Ÿï¼Œæ˜¯æ²¡æœ‰ <code>gcc</code> çš„ï¼Œè¿™é‡Œæ˜¯å¯ä»¥ç›´æ¥ç”¨ <code>yum</code>å®‰è£…çš„ï¼š</p>
<div class="highlight"><pre class="chroma"><code class="language-shell" data-lang="shell"><span class="c1"># åˆ†åˆ«æ‰§è¡Œä¸‹è¿°å‘½ä»¤</span>
&gt; yum install gcc
&gt; yum install gcc-c++
&gt; yum install gdb
</code></pre></div><p>rpm è½¯ä»¶åŒ…æ˜¯å·²ç»ç¼–è¯‘å¥½çš„å®‰è£…åŒ…ï¼Œç›´æ¥ä½¿ç”¨ <code>rpm</code> å‘½ä»¤å°±å¯ä»¥å®‰è£…ï¼š<a href="https://man.linuxde.net/rpm"target="_blank">å…³äºrpmå‘½ä»¤çš„è¯´æ˜</a></p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1">#å› ä¸ºæœ‰ä¾èµ–é—®é¢˜æ‰€ä»¥è¦ä¿æŒå®‰è£…é¡ºåºï¼Œå…·ä½“å‘½ä»¤å¦‚ä¸‹</span>
&gt; rpm -ivh mysql-community-common-8.0.19-1.el8.x86_64.rpm 
&gt; rpm -ivh mysql-community-libs-8.0.19-1.el8.x86_64.rpm 
&gt; rpm -ivh mysql-community-client-8.0.19-1.el8.x86_64.rpm 
&gt; rpm -ivh mysql-community-server-8.0.19-1.el8.x86_64.rpm

<span class="c1">#å®‰è£…å®Œæˆåå¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸ</span>
&gt; rpm -qa<span class="p">|</span>grep mysql
mysql-community-server-8.0.19-1.el8.x86_64
mysql-community-common-8.0.19-1.el8.x86_64
mysql-community-libs-8.0.19-1.el8.x86_64
mysql-community-client-8.0.19-1.el8.x86_64
</code></pre></div><h2 id="é…ç½®-mysql">é…ç½® MySQL</h2>
<p>é¦–å…ˆå¼€å¯ MSQL æœåŠ¡ï¼Œè¿™é‡Œç”¨ <code>systemctl</code> å‘½ä»¤ï¼Œè€Œ Centos 6 ç‰ˆæœ¬ä½¿ç”¨ <code>service</code> å‘½ä»¤ï¼Œå…·ä½“å‚æ•°ä¹Ÿæœ‰å·®å¼‚ï¼š</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># å¯åŠ¨/æŸ¥çœ‹/å…³é—­/é‡å¯ MySql æœåŠ¡</span>
&gt; systemctl start/status/stop/restart mysqld.service
<span class="c1">## centos 6,5 çš„å‘½ä»¤</span>
&gt; service mysqld start/status/stop/restart
</code></pre></div><p>MySQL æœåŠ¡åœ¨ç¬¬ä¸€æ¬¡å¯åŠ¨åä¼šåˆ›å»ºä¸€ä¸ª <code>root@localhost</code> ç”¨æˆ·ï¼Œåˆå§‹å¯†ç å­˜æ”¾åœ¨ <code>/var/log/mysqld.log</code> ä¸­</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># æŸ¥çœ‹åˆå§‹å¯†ç </span>
&gt; grep <span class="s1">&#39;temporary password&#39;</span> /var/log/mysqld.log
2020-03-05T03:42:34.932877Z <span class="m">5</span> <span class="o">[</span>Note<span class="o">]</span> <span class="o">[</span>MY-010454<span class="o">]</span> <span class="o">[</span>Server<span class="o">]</span> A temporary password is generated <span class="k">for</span> root@localhost: %g:vT&gt;?ef3Ht

<span class="c1"># åˆ©ç”¨åˆå§‹å¯†ç ç™»å½•</span>
&gt; mysql -u root -p%g:vT&gt;?ef3Ht
</code></pre></div><p>è¿æ¥åˆ° mysql åéœ€è¦å…ˆä¿®æ”¹å¯†ç æ‰èƒ½è¿›è¡Œå…¶ä»–æ“ä½œï¼Œå› ä¸ºæœ‰å¯†ç éªŒè¯æœºåˆ¶ï¼Œå¤ªç®€å•çš„å¯†ç æ˜¯ä¸èƒ½è®¾ç½®çš„ã€‚
å› ä¸ºä¸ºäº†æ–¹ä¾¿æµ‹è¯•ï¼Œè¿™é‡Œé€šè¿‡ä¿®æ”¹ ç³»ç»Ÿå˜é‡æ¥æ›´æ”¹å¯†ç ç­–ç•¥ã€‚ï¼ˆå¦‚æœè·³è¿‡è¿™é‡Œï¼Œå¯†ç å¿…é¡»åŒ…å«å¤§å°å†™å­—æ¯ï¼Œæ•°å­—ï¼Œç‰¹æ®Šå­—ç¬¦æ‰å¯ä»¥è®¾ç½®æˆåŠŸã€‚ï¼‰</p>
<p>ä¸‹é¢æ˜¯åœ¨ mysql ä¸­è¿›è¡Œçš„æ“ä½œï¼š</p>
<div class="highlight"><pre class="chroma"><code class="language-mysql" data-lang="mysql"><span class="c1"># è®¾ç½®æœ€å°å¯†ç é•¿åº¦
</span><span class="c1"></span><span class="n">mysql</span><span class="o">&gt;</span> <span class="kt">SET</span> <span class="n">GLOBAL</span> <span class="n">validate_password</span><span class="p">.</span><span class="n">length</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="n">rows</span> <span class="nf">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>

<span class="c1"># è®¾ç½®å¯†ç ç­–ç•¥çº§åˆ«ä¸º low é»˜è®¤çš„ä¸º medium
</span><span class="c1"></span><span class="n">mysql</span><span class="o">&gt;</span> <span class="kt">SET</span> <span class="n">GLOBAL</span> <span class="n">validate_password</span><span class="p">.</span><span class="n">policy</span><span class="o">=</span><span class="s1">&#39;low&#39;</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="n">rows</span> <span class="nf">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span> <span class="n">sec</span><span class="p">)</span>

<span class="c1"># æœ€åé‡è®¾å¯†ç 
</span><span class="c1"></span><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">ALTER</span> <span class="k">USER</span> <span class="s1">&#39;root&#39;</span><span class="o">@</span><span class="s1">&#39;localhost&#39;</span> <span class="k">identified</span> <span class="k">by</span> <span class="s1">&#39;202003&#39;</span><span class="p">;</span>
<span class="n">Query</span> <span class="n">OK</span><span class="p">,</span> <span class="mi">0</span> <span class="n">rows</span> <span class="nf">affected</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span> <span class="n">sec</span><span class="p">)</span>

<span class="c1"># è¿˜å¯ä»¥è¯„ä¼°ä¸‹è‡ªå·±å¯†ç å¼ºåº¦ 1~100
</span><span class="c1"></span><span class="n">mysql</span><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="nf">validate_password_strength</span><span class="p">(</span><span class="s1">&#39;202003&#39;</span><span class="p">);</span>
<span class="o">+--------------------------------------+</span>
<span class="o">|</span> <span class="nf">validate_password_strength</span><span class="p">(</span><span class="s1">&#39;202003&#39;</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+--------------------------------------+</span>
<span class="o">|</span>                                   <span class="mi">50</span> <span class="o">|</span>
<span class="o">+--------------------------------------+</span>
<span class="mi">1</span> <span class="n">row</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">01</span> <span class="n">sec</span><span class="p">)</span>

<span class="n">mysql</span><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="nf">validate_password_strength</span><span class="p">(</span><span class="s1">&#39;23weQ!78dhk&#39;</span><span class="p">);</span>
<span class="o">+-------------------------------------------+</span>
<span class="o">|</span> <span class="nf">validate_password_strength</span><span class="p">(</span><span class="s1">&#39;23weQ!78dhk&#39;</span><span class="p">)</span> <span class="o">|</span>
<span class="o">+-------------------------------------------+</span>
<span class="o">|</span>                                       <span class="mi">100</span> <span class="o">|</span>
<span class="o">+-------------------------------------------+</span>
<span class="mi">1</span> <span class="n">row</span> <span class="k">in</span> <span class="kt">set</span> <span class="p">(</span><span class="mi">0</span><span class="p">.</span><span class="mi">00</span> <span class="n">sec</span><span class="p">)</span>
</code></pre></div><p>ä»¥ä¸Šå°±ç®—é…ç½®æˆåŠŸäº†ï¼Œå¯ä»¥ç…§ç€å…¶ä»–æ•™ç¨‹ç©è€äº†ï¼Œä¸‹é¢æ˜¯ä¸€äº›é¢å¤–çš„è®°å½•ã€‚</p>
<h2 id="å…¶ä»–">å…¶ä»–</h2>
<p>Linux ä¸‹ MySQL 8 çš„ç”¨æˆ·é…ç½®æ–‡ä»¶ä¸º <code>/etc/my.cnf</code></p>
<div class="highlight"><pre class="chroma"><code class="language-ini" data-lang="ini"><span class="c1"># åˆå§‹çš„å…¨éƒ¨é»˜è®¤å†…å®¹</span>
<span class="k">[mysqld]</span>
<span class="na">datadir</span><span class="o">=</span><span class="s">/var/lib/mysql</span>
<span class="na">socket</span><span class="o">=</span><span class="s">/var/lib/mysql/mysql.sock</span>
<span class="na">log-error</span><span class="o">=</span><span class="s">/var/log/mysqld.log</span>
<span class="na">pid-file</span><span class="o">=</span><span class="s">/var/run/mysqld/mysqld.pid</span>
</code></pre></div><p>æ ¸å¿ƒç›®å½•ï¼š</p>
<ul>
<li><code>/var/lib/mysql</code>  æ•°æ®åº“ç›®å½•ï¼›</li>
<li><code>/usr/share/mysql-8.0</code> é…ç½®æ–‡ä»¶ç›®å½•ï¼›</li>
<li><code>/usr/bin</code> å‘½ä»¤ç›®å½• ï¼Œ<code>mysqladmin</code>, <code>mysqldump</code>ç­‰ã€‚</li>
</ul>
<p>é»˜è®¤å­—ç¬¦é…ç½®</p>
<div class="highlight"><pre class="chroma"><code class="language-mysql" data-lang="mysql"><span class="o">&gt;</span> <span class="k">show</span> <span class="n">variables</span> <span class="k">like</span> <span class="s1">&#39;%char%&#39;</span><span class="p">;</span>
<span class="o">+--------------------------------------+--------------------------------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>                        <span class="o">|</span> <span class="n">Value</span>                          <span class="o">|</span>
<span class="o">+--------------------------------------+--------------------------------+</span>
<span class="o">|</span> <span class="n">character_set_client</span>                 <span class="o">|</span> <span class="n">utf8mb4</span>                        <span class="o">|</span>
<span class="o">|</span> <span class="n">character_set_connection</span>             <span class="o">|</span> <span class="n">utf8mb4</span>                        <span class="o">|</span>
<span class="o">|</span> <span class="n">character_set_database</span>               <span class="o">|</span> <span class="n">utf8mb4</span>                        <span class="o">|</span>
<span class="o">|</span> <span class="n">character_set_filesystem</span>             <span class="o">|</span> <span class="k">binary</span>                         <span class="o">|</span>
<span class="o">|</span> <span class="n">character_set_results</span>                <span class="o">|</span> <span class="n">utf8mb4</span>                        <span class="o">|</span>
<span class="o">|</span> <span class="n">character_set_server</span>                 <span class="o">|</span> <span class="n">utf8mb4</span>                        <span class="o">|</span>
<span class="o">|</span> <span class="n">character_set_system</span>                 <span class="o">|</span> <span class="n">utf8</span>                           <span class="o">|</span>
<span class="o">|</span> <span class="n">character_sets_dir</span>                   <span class="o">|</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">mysql</span><span class="o">-</span><span class="mi">8</span><span class="p">.</span><span class="mi">0</span><span class="o">/</span><span class="n">charsets</span><span class="o">/</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">validate_password</span><span class="p">.</span><span class="n">special_char_count</span> <span class="o">|</span> <span class="mi">1</span>                              <span class="o">|</span>
<span class="o">+--------------------------------------+--------------------------------+</span>

<span class="o">&gt;</span> <span class="k">show</span> <span class="n">variables</span> <span class="k">like</span> <span class="s1">&#39;%collation%&#39;</span><span class="p">;</span>
<span class="o">+-------------------------------+--------------------+</span>
<span class="o">|</span> <span class="n">Variable_name</span>                 <span class="o">|</span> <span class="n">Value</span>              <span class="o">|</span>
<span class="o">+-------------------------------+--------------------+</span>
<span class="o">|</span> <span class="n">collation_connection</span>          <span class="o">|</span> <span class="n">utf8mb4_0900_ai_ci</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">collation_database</span>            <span class="o">|</span> <span class="n">utf8mb4_0900_ai_ci</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">collation_server</span>              <span class="o">|</span> <span class="n">utf8mb4_0900_ai_ci</span> <span class="o">|</span>
<span class="o">|</span> <span class="n">default_collation_for_utf8mb4</span> <span class="o">|</span> <span class="n">utf8mb4_0900_ai_ci</span> <span class="o">|</span>
<span class="o">+-------------------------------+--------------------+</span>

<span class="c1"># æ³¨æ„åé¢çš„ ai_ci, 
</span><span class="c1"># i æ˜¯æŒ‡ insensitive,
</span><span class="c1"># ai æ˜¯æŒ‡ accent insensitive,
</span><span class="c1"># ci æ˜¯æŒ‡ case insensitiveï¼Œ
</span><span class="c1"># ä¹Ÿå°±æ˜¯è¯´é»˜è®¤çš„å­—ç¬¦é›†æ ¡éªŒä¸åŒºåˆ†å¤§å°å†™ã€‚
</span></code></pre></div><p>MySQL 8 ç°åœ¨é»˜è®¤å­—ç¬¦ç¼–ç ä¸º <code>utf8mb4</code>ï¼Œ<code>utf8mb4</code> å­—ç¬¦é›†æ˜¯ <code>UTF-8</code> å­—ç¬¦é›†åœ¨ <code>MySQL</code> çš„å¯¹åº”ç‰ˆæœ¬ï¼Œæ¯ä¸ªå­—ç¬¦æœ€å¤šç”¨ 4ä¸ªå­—èŠ‚ è¡¨ç¤ºï¼Œæ”¯æŒ emoji ğŸ˜ƒ è¡¨æƒ…ï¼Œè€Œ <code>utf8</code> å­—ç¬¦é›†æ˜¯ <code>MySQL</code> ä¸­ <code>UTF-8</code> çš„æ®‹ç¼ºç‰ˆï¼Œæ¯ä¸ªå­—ç¬¦æœ€å¤šç”¨ 3ä¸ªå­—èŠ‚ è¡¨ç¤ºï¼Œè™½ç„¶å¤Ÿæ—¥å¸¸ä½¿ç”¨ä½†ä¸æ”¯æŒ emoji ğŸ’©.</p>
<p>å¦‚æœè¦ä¿®æ”¹ä¸º <code>utf8</code> ï¼Œåˆ™è¦åœ¨ç”¨æˆ·é…ç½®æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹è®¾ç½®ã€‚ï¼ˆç°åœ¨å„ä¸ªæ•™å­¦è§†é¢‘åœ¨æ•°æ®åº“åˆšå®‰è£…å®Œï¼Œç‰ˆæœ¬ä¸€èˆ¬ä¸º5.5 ï¼Œéƒ½æ˜¯å…ˆå°†å­—ç¬¦ä¿®æ”¹ä¸º <code>utf8</code>.)</p>
<div class="highlight"><pre class="chroma"><code class="language-ini" data-lang="ini"><span class="c1"># user settings</span>
<span class="k">[mysqld]</span>
<span class="na">character-set-server</span><span class="o">=</span><span class="s">utf8</span>
<span class="na">collation-server</span><span class="o">=</span><span class="s">utf8_general_ci</span>

<span class="k">[mysql]</span>
<span class="na">default-character-set</span><span class="o">=</span><span class="s">utf8</span>

<span class="k">[client]</span>
<span class="na">default-character-set</span><span class="o">=</span><span class="s">utf8</span>
</code></pre></div><p>å‚è€ƒäº†ä»¥ä¸‹æ–‡ç« ï¼š</p>
<ul>
<li><a href="https://blog.csdn.net/w05980598/article/details/79080381"target="_blank">mysqlå­—ç¬¦é›† utf8 å’Œutf8mb4 çš„åŒºåˆ«</a></li>
<li><a href="http://mysqlserverteam.com/mysql-8-0-1-accent-and-case-sensitive-collations-for-utf8mb4/"target="_blank">mysql8 å­—ç¬¦æ’åº</a></li>
<li><a href="https://www.techug.com/post/in-mysql-never-use-utf8-use-utf8mb4.html"target="_blank">mysqlä¸­çš„utf8mb4</a></li>
<li><a href="https://juejin.im/post/5d07cf13f265da1bd522cfb6#heading-17"target="_blank">CentOSå®‰è£…MySQLè¯¦è§£</a></li>
</ul></article><section class="article labels"><a class="category" href=/categories/linux/>Linux</a><a class="category" href=/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/>æ•°æ®åº“</a><a class="tag" href=/tags/mysql/>MySQL</a><a class="tag" href=/tags/centos/>CentOS</a></section></div></div><section id="footer" class="footer"><div class="footer-wrap">
    <p class="copyright">Physalis</p>
    <p class="powerby"><span>Powered by </span><a href="https://gohugo.io" 
        target="_blank">Hugo</a><span> and the </span><a href="https://themes.gohugo.io/hugo-notepadium/" 
        target="_blank">Notepadium</a></p>
</div></section><script src="/js/prism.min.28f2bfd6dfaa7ad0e8b973373bb7db234d27a2faafc26d5ffd2de4c2b1b5f2bf80011f2e2976dc9fb364abb13f63ebdc.js" integrity="sha384-KPK/1t&#43;qetDouXM3O7fbI00novqvwm1f/S3kwrG18r&#43;AAR8uKXbcn7Nkq7E/Y&#43;vc"></script></div>
</body>

</html>